<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singlish - Muddy Shoes by IVOXYGEN</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: #000;
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            position: relative;
            padding: 20px;
        }

        .particle {
            position: absolute;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 50%;
            pointer-events: none;
            animation: float 10s infinite ease-in-out;
        }

        .particle:nth-child(1) { width: 15px; height: 15px; top: 10%; left: 15%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 20px; height: 20px; top: 30%; right: 10%; animation-delay: 2s; }
        .particle:nth-child(3) { width: 10px; height: 10px; bottom: 20%; left: 25%; animation-delay: 4s; }
        .particle:nth-child(4) { width: 25px; height: 25px; bottom: 15%; right: 20%; animation-delay: 6s; }
        .particle:nth-child(5) { width: 18px; height: 18px; top: 50%; left: 5%; animation-delay: 8s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0.2; }
            50% { transform: translateY(-50px) scale(1.2); opacity: 0.6; }
        }

        header {
            position: absolute;
            top: 20px;
            width: 90%;
            max-width: 1200px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 30;
            flex-wrap: wrap;
        }

        .logo {
            font-size: clamp(1.5rem, 5vw, 1.75rem);
            font-weight: 700;
            color: #fff;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
        }

        .logo::before {
            content: "♦ ";
            color: #00FFFF;
        }

        nav {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            flex-grow: 1;
            justify-content: center;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            font-weight: 500;
            transition: color 0.3s ease;
        }

        nav a:hover, nav a.active {
            color: #00FFFF;
        }

        .auth-buttons {
            display: flex;
            align-items: center;
        }

        .sign-up, .sign-out {
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            border: none;
            padding: 8px 20px;
            color: #fff;
            text-decoration: none;
            border-radius: 25px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            margin-left: 10px;
        }

        .sign-up:hover, .sign-out:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.5);
        }

        .sign-up:disabled, .sign-out:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .track-content {
            max-width: 800px;
            width: 90%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: fadeIn 1.5s ease-in-out;
            padding-top: 80px;
            z-index: 10;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .track-content h1 {
            position: relative;
            z-index: 12;
            font-size: clamp(2rem, 10vw, 4rem);
            line-height: 1.1;
            margin-bottom: 20px;
            font-weight: 700;
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.5);
        }

        .track-content h1 span {
            background: linear-gradient(90deg, #fff 0%, #a5f3fc 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        .track-content img {
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 15px;
            margin: 20px 0;
        }

        .back-button {
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            color: #fff;
            padding: 10px 30px;
            border: none;
            border-radius: 25px;
            font-size: clamp(0.9rem, 3vw, 1.125rem);
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
        }

        .back-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.5);
        }

        .audio-player {
            width: 100%;
            max-width: 300px;
            background: #1a1a1a;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.2);
        }

        .progress-bar-container {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            cursor: pointer;
            margin: 10px 0;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            border-radius: 3px;
            transition: width 0.1s linear;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 10px 0;
        }

        .control-btn {
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            border: none;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 255, 255, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.5);
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #a5f3fc;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .volume-control i {
            font-size: 18px;
            color: #fff;
        }

        .volume-slider {
            width: 80px;
            height: 6px;
            border-radius: 3px;
            background: #333;
            appearance: none;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 12px;
            height: 12px;
            background: #00FFFF;
            border-radius: 50%;
            cursor: pointer;
        }

        .volume-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: #00FFFF;
            border-radius: 50%;
            cursor: pointer;
        }

        .exercise-container {
            width: 100%;
            max-width: 600px;
            margin: 20px 0;
        }

        .exercise {
            background: #1a1a1a;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1), 0 4px 15px rgba(0, 255, 255, 0.3);
            margin-bottom: 20px;
        }

        .exercise h2 {
            font-size: clamp(1.25rem, 4vw, 1.5rem);
            margin-bottom: 20px;
            color: #fff;
            font-weight: 700;
            text-align: center;
        }

        .question {
            padding: 10px;
            margin-bottom: 10px;
        }

        .question p {
            font-size: clamp(0.875rem, 3vw, 1rem);
            color: #fff;
            line-height: 1.5;
            text-align: left;
        }

        .question p span {
            font-weight: 700;
        }

        .question select {
            background: #333;
            color: #fff;
            border: 1px solid #00FFFF;
            padding: 5px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            outline: none;
            width: 180px;
        }

        .question select:focus {
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            color: #fff;
        }

        .question select.correct {
            background: #26A69A;
            border: 1px solid #26A69A;
            color: #fff;
            box-shadow: 0 0 8px rgba(38, 166, 154, 0.6);
            animation: pulse 0.5s ease-in-out;
        }

        .question select.incorrect {
            background: #EF5350;
            border: 1px solid #EF5350;
            color: #fff;
            box-shadow: 0 0 8px rgba(239, 83, 80, 0.6);
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .question select option {
            background: #333;
            color: #fff;
        }

        .word-order .word-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        .word-order .drop-zone {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            min-height: 40px;
            background: #333;
            border: 2px solid #00FFFF;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
        }

        .word-order .word-tile {
            background: #444;
            color: #fff;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: move;
            font-size: 14px;
            user-select: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .word-order .word-tile:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(0, 255, 255, 0.3);
        }

        .word-order .word-tile.dragging {
            opacity: 0.5;
            transform: scale(1.1);
        }

        .word-order .word-tile.correct {
            background: #26A69A;
            border: 1px solid #26A69A;
            box-shadow: 0 0 8px rgba(38, 166, 154, 0.6);
            animation: pulse 0.5s ease-in-out;
        }

        .word-order .word-tile.incorrect {
            background: #EF5350;
            border: 1px solid #EF5350;
            box-shadow: 0 0 8px rgba(239, 83, 80, 0.6);
            animation: pulse 0.5s ease-in-out;
        }

        .check-answers {
            background: linear-gradient(90deg, #00FFFF 0%, #00CED1 100%);
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: clamp(0.875rem, 3vw, 1rem);
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: block;
            margin: 20px auto 0;
        }

        .check-answers:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.5);
        }

        .result {
            font-size: clamp(0.875rem, 3vw, 1rem);
            color: #fff;
            margin-top: 15px;
            text-align: center;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 20px;
            cursor: pointer;
            z-index: 31;
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: #fff;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 15;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            pointer-events: none;
        }

        .mobile-menu.active {
            transform: translateX(0);
            pointer-events: auto;
        }

        .mobile-menu a, .mobile-menu button {
            pointer-events: auto;
        }

        .mobile-menu a {
            color: #fff;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 500;
            margin: 15px 0;
            transition: color 0.3s ease;
        }

        .mobile-menu a:hover, .mobile-menu a.active {
            color: #00FFFF;
        }

        .mobile-menu .sign-up, .mobile-menu .sign-out {
            margin: 15px 0;
            padding: 10px 20px;
            font-size: 1.5rem;
            width: 150px;
            text-align: center;
        }

        @media (max-width: 768px) {
            header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

            nav {
                display: none;
            }

            .auth-buttons {
                display: none;
            }

            .hamburger {
                display: flex;
            }

            .mobile-menu {
                display: flex;
            }

            .sign-up, .sign-out, .back-button, .check-answers {
                padding: 8px 15px;
            }

            .track-content {
                padding-top: 60px;
            }

            .particle {
                display: none;
            }

            .audio-player, .exercise-container {
                max-width: 90%;
            }

            .question select {
                width: 150px;
            }

            .word-order .word-list, .word-order .drop-zone {
                flex-direction: column;
                align-items: flex-start;
            }

            .word-order .word-tile {
                width: 100%;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .track-content h1 {
                font-size: clamp(1.5rem, 8vw, 2.5rem);
            }

            .track-content img {
                max-width: 250px;
            }

            .audio-player {
                padding: 10px;
            }

            .control-btn {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }

            .volume-slider {
                width: 60px;
            }

            .exercise h2 {
                font-size: clamp(1rem, 3vw, 1.25rem);
                margin-bottom: 15px;
            }

            .question {
                padding: 8px;
                margin-bottom: 8px;
            }

            .question p {
                font-size: clamp(0.75rem, 2.5vw, 0.875rem);
            }

            .question select {
                font-size: 12px;
                padding: 4px;
                width: 120px;
            }

            .word-order .word-tile {
                font-size: 12px;
                padding: 6px 10px;
            }

            .check-answers {
                padding: 8px 15px;
                font-size: clamp(0.75rem, 2.5vw, 0.875rem);
                margin: 15px auto 0;
            }

            .result {
                font-size: clamp(0.75rem, 2.5vw, 0.875rem);
                margin-top: 10px;
            }

            .logo {
                font-size: clamp(1.25rem, 4vw, 1.5rem);
            }

            .mobile-menu .sign-up, .mobile-menu .sign-out {
                padding: 8px 15px;
                font-size: clamp(1rem, 3vw, 1.25rem);
                width: 120px;
            }

            .sign-up, .sign-out {
                padding: 6px 12px;
                font-size: clamp(0.75rem, 2.5vw, 0.875rem);
            }
        }

        @media (min-width: 769px) {
            .mobile-menu {
                display: none !important;
            }
        }

        @media (min-width: 1200px) {
            .track-content {
                max-width: 800px;
            }

            .track-content h1 {
                font-size: 4rem;
            }
        }
    </style>
</head>
<body>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <header>
        <div class="logo">Singlish</div>
        <div class="hamburger" role="button" aria-label="Toggle menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <nav>
            <a href="./index.html">Home</a>
            <a href="./courses.html">Courses</a>
            <a href="./about.html">About Us</a>
            <a href="./reviews.html">Reviews</a>
            <a href="./contact.html">Contacts</a>
        </nav>
        <div class="auth-buttons" id="authButtons">
            <button class="sign-up" id="signUpButton" onclick="signInWithGoogle()">Sign Up</button>
            <button class="sign-out" id="signOutButton" onclick="signOut()" style="display: none;">Sign Out</button>
        </div>
    </header>
    <div class="mobile-menu">
        <a href="./index.html">Home</a>
        <a href="./courses.html">Courses</a>
        <a href="./about.html">About Us</a>
        <a href="./reviews.html">Reviews</a>
        <a href="./contact.html">Contacts</a>
        <div id="mobileAuthButtons">
            <button class="sign-up" id="mobileSignUpButton" onclick="signInWithGoogle()">Sign Up</button>
            <button class="sign-out" id="mobileSignOutButton" onclick="signOut()" style="display: none;">Sign Out</button>
        </div>
    </div>
    <div class="track-content">
        <h1><span>Muddy Shoes</span></h1>
        <img src="https://raw.githubusercontent.com/S1ngl1sh/singlish/main/Images/Muddy%20Shoes.jpg" alt="Muddy Shoes">
        <a href="./artist-ivoxygen.html" class="back-button">Back to Tracks</a>
        <div class="audio-player">
            <audio id="audio" src="https://raw.githubusercontent.com/S1ngl1sh/singlish/main/Tracks/Muddy%20Shoes.mp3"></audio>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="duration">0:00</span>
            </div>
            <div class="controls">
                <button class="control-btn" id="skipBackward"><i class="fas fa-backward"></i></button>
                <button class="control-btn" id="playPause"><i class="fas fa-play"></i></button>
                <button class="control-btn" id="skipForward"><i class="fas fa-forward"></i></button>
            </div>
            <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.01" value="1">
            </div>
        </div>
        <div class="exercise-container">
            <div class="exercise">
                <h2>Fill in the Blanks</h2>
                <div class="question">
                    <p><span>1.</span> Walking with my <select name="q1">
                        <option value="">Select</option>
                        <option value="a">shoes</option>
                        <option value="b">boots</option>
                        <option value="c">feet</option>
                        <option value="d">socks</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>2.</span> Got that <select name="q2">
                        <option value="">Select</option>
                        <option value="a">mud</option>
                        <option value="b">blood</option>
                        <option value="c">flood</option>
                        <option value="d">dust</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>3.</span> On the <select name="q3">
                        <option value="">Select</option>
                        <option value="a">path</option>
                        <option value="b">road</option>
                        <option value="c">track</option>
                        <option value="d">way</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>4.</span> Feeling <select name="q4">
                        <option value="">Select</option>
                        <option value="a">heavy</option>
                        <option value="b">light</option>
                        <option value="c">right</option>
                        <option value="d">tight</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>5.</span> Keep on <select name="q5">
                        <option value="">Select</option>
                        <option value="a">moving</option>
                        <option value="b">grooving</option>
                        <option value="c">losing</option>
                        <option value="d">choosing</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>6.</span> Through the <select name="q6">
                        <option value="">Select</option>
                        <option value="a">rain</option>
                        <option value="b">pain</option>
                        <option value="c">gain</option>
                        <option value="d">chain</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>7.</span> Got no <select name="q7">
                        <option value="">Select</option>
                        <option value="a">fear</option>
                        <option value="b">tear</option>
                        <option value="c">near</option>
                        <option value="d">gear</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>8.</span> Just keep <select name="q8">
                        <option value="">Select</option>
                        <option value="a">going</option>
                        <option value="b">flowing</option>
                        <option value="c">growing</option>
                        <option value="d">showing</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>9.</span> With my <select name="q9">
                        <option value="">Select</option>
                        <option value="a">soul</option>
                        <option value="b">goal</option>
                        <option value="c">role</option>
                        <option value="d">pole</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>10.</span> In the <select name="q10">
                        <option value="">Select</option>
                        <option value="a">dark</option>
                        <option value="b">park</option>
                        <option value="c">spark</option>
                        <option value="d">mark</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>11.</span> Leave a <select name="q11">
                        <option value="">Select</option>
                        <option value="a">mark</option>
                        <option value="b">spark</option>
                        <option value="c">dark</option>
                        <option value="d">bark</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>12.</span> On the <select name="q12">
                        <option value="">Select</option>
                        <option value="a">ground</option>
                        <option value="b">sound</option>
                        <option value="c">found</option>
                        <option value="d">round</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>13.</span> Muddy <select name="q13">
                        <option value="">Select</option>
                        <option value="a">trail</option>
                        <option value="b">rail</option>
                        <option value="c">sail</option>
                        <option value="d">fail</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>14.</span> Keep it <select name="q14">
                        <option value="">Select</option>
                        <option value="a">real</option>
                        <option value="b">feel</option>
                        <option value="c">deal</option>
                        <option value="d">heal</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>15.</span> No looking <select name="q15">
                        <option value="">Select</option>
                        <option value="a">back</option>
                        <option value="b">lack</option>
                        <option value="c">track</option>
                        <option value="d">stack</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>16.</span> Just the <select name="q16">
                        <option value="">Select</option>
                        <option value="a">path</option>
                        <option value="b">math</option>
                        <option value="c">bath</option>
                        <option value="d">wrath</option>
                    </select></p>
                </div>
                <button class="check-answers" id="checkFillIn">Check Answers</button>
                <div class="result" id="resultFillIn"></div>
            </div>
            <div class="exercise">
                <h2>Vocabulary Match</h2>
                <div class="question">
                    <p><span>1.</span> <strong>rebel</strong> <select name="v1">
                        <option value="">Select</option>
                        <option value="мириться">мириться</option>
                        <option value="бунтовать">бунтовать</option>
                        <option value="скрываться">скрываться</option>
                        <option value="подчиняться">подчиняться</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>2.</span> <strong>sow the wind</strong> <select name="v2">
                        <option value="">Select</option>
                        <option value="сеять ветер">сеять ветер</option>
                        <option value="ловить момент">ловить момент</option>
                        <option value="кричать в толпу">кричать в толпу</option>
                        <option value="открыться миру">открыться миру</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>3.</span> <strong>blasphemous</strong> <select name="v3">
                        <option value="">Select</option>
                        <option value="богобоязненный">богобоязненный</option>
                        <option value="святой">святой</option>
                        <option value="кощунственный">кощунственный</option>
                        <option value="равнодушный">равнодушный</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>4.</span> <strong>devil in human form</strong> <select name="v4">
                        <option value="">Select</option>
                        <option value="демон во сне">демон во сне</option>
                        <option value="дьявол в человеческом обличье">дьявол в человеческом обличье</option>
                        <option value="призрак в облаке">призрак в облаке</option>
                        <option value="безумный гений">безумный гений</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>5.</span> <strong>antagonist</strong> <select name="v5">
                        <option value="">Select</option>
                        <option value="союзник">союзник</option>
                        <option value="главный герой">главный герой</option>
                        <option value="противник">противник</option>
                        <option value="рассказчик">рассказчик</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>6.</span> <strong>snitch</strong> <select name="v6">
                        <option value="">Select</option>
                        <option value="грубиян">грубиян</option>
                        <option value="доносчик">доносчик</option>
                        <option value="подражатель">подражатель</option>
                        <option value="хитрец">хитрец</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>7.</span> <strong>visionary</strong> <select name="v7">
                        <option value="">Select</option>
                        <option value="слепой">слепой</option>
                        <option value="мечтатель">мечтатель</option>
                        <option value="ученик">ученик</option>
                        <option value="критик">критик</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>8.</span> <strong>upside world</strong> <select name="v8">
                        <option value="">Select</option>
                        <option value="подземный мир">подземный мир</option>
                        <option value="обычный порядок">обычный порядок</option>
                        <option value="перевёрнутый мир">перевёрнутый мир</option>
                        <option value="роскошная жизнь">роскошная жизнь</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>9.</span> <strong>shoes in the mud</strong> <select name="v9">
                        <option value="">Select</option>
                        <option value="в грязной обуви">в грязной обуви</option>
                        <option value="в новых кроссовках">в новых кроссовках</option>
                        <option value="босиком">босиком</option>
                        <option value="с потерянными ботинками">с потерянными ботинками</option>
                    </select></p>
                </div>
                <div class="question">
                    <p><span>10.</span> <strong>let the table turn</strong> <select name="v10">
                        <option value="">Select</option>
                        <option value="накрыть на стол">накрыть на стол</option>
                        <option value="сменить местами роли">сменить местами роли</option>
                        <option value="уйти с ужина">уйти с ужина</option>
                        <option value="разбить всё вокруг">разбить всё вокруг</option>
                    </select></p>
                </div>
                <button class="check-answers" id="checkVocab">Check Answers</button>
                <div class="result" id="resultVocab"></div>
            </div>
            <div class="exercise word-order">
                <h2>Word Order</h2>
                <div class="question">
                    <p><span>1.</span> Arrange the words: <strong>I / wild / rebel / so / And</strong></p>
                    <div class="word-list" data-question="1">
                        <span class="word-tile" draggable="true">I</span>
                        <span class="word-tile" draggable="true">wild</span>
                        <span class="word-tile" draggable="true">rebel</span>
                        <span class="word-tile" draggable="true">so</span>
                        <span class="word-tile" draggable="true">And</span>
                    </div>
                    <div class="drop-zone" data-question="1"></div>
                </div>
                <div class="question">
                    <p><span>2.</span> Arrange the words: <strong>form / in / human / devil / I'm</strong></p>
                    <div class="word-list" data-question="2">
                        <span class="word-tile" draggable="true">form</span>
                        <span class="word-tile" draggable="true">in</span>
                        <span class="word-tile" draggable="true">human</span>
                        <span class="word-tile" draggable="true">devil</span>
                        <span class="word-tile" draggable="true">I'm</span>
                    </div>
                    <div class="drop-zone" data-question="2"></div>
                </div>
                <div class="question">
                    <p><span>3.</span> Arrange the words: <strong>can't / but / You / hide / run / can / you</strong></p>
                    <div class="word-list" data-question="3">
                        <span class="word-tile" draggable="true">can't</span>
                        <span class="word-tile" draggable="true">but</span>
                        <span class="word-tile" draggable="true">You</span>
                        <span class="word-tile" draggable="true">hide</span>
                        <span class="word-tile" draggable="true">run</span>
                        <span class="word-tile" draggable="true">can</span>
                        <span class="word-tile" draggable="true">you</span>
                    </div>
                    <div class="drop-zone" data-question="3"></div>
                </div>
                <div class="question">
                    <p><span>4.</span> Arrange the words: <strong>storm / fills / anger / My / the</strong></p>
                    <div class="word-list" data-question="4">
                        <span class="word-tile" draggable="true">storm</span>
                        <span class="word-tile" draggable="true">fills</span>
                        <span class="word-tile" draggable="true">anger</span>
                        <span class="word-tile" draggable="true">My</span>
                        <span class="word-tile" draggable="true">the</span>
                    </div>
                    <div class="drop-zone" data-question="4"></div>
                </div>
                <div class="question">
                    <p><span>5.</span> Arrange the words: <strong>bitch / my / suck / blood / likes / to / That</strong></p>
                    <div class="word-list" data-question="5">
                        <span class="word-tile" draggable="true">bitch</span>
                        <span class="word-tile" draggable="true">my</span>
                        <span class="word-tile" draggable="true">suck</span>
                        <span class="word-tile" draggable="true">blood</span>
                        <span class="word-tile" draggable="true">likes</span>
                        <span class="word-tile" draggable="true">to</span>
                        <span class="word-tile" draggable="true">That</span>
                    </div>
                    <div class="drop-zone" data-question="5"></div>
                </div>
                <div class="question">
                    <p><span>6.</span> Arrange the words: <strong>the / Let / turn / table</strong></p>
                    <div class="word-list" data-question="6">
                        <span class="word-tile" draggable="true">the</span>
                        <span class="word-tile" draggable="true">Let</span>
                        <span class="word-tile" draggable="true">turn</span>
                        <span class="word-tile" draggable="true">table</span>
                    </div>
                    <div class="drop-zone" data-question="6"></div>
                </div>
                <div class="question">
                    <p><span>7.</span> Arrange the words: <strong>shoes / mud / in / my / care / don't / I</strong></p>
                    <div class="word-list" data-question="7">
                        <span class="word-tile" draggable="true">shoes</span>
                        <span class="word-tile" draggable="true">mud</span>
                        <span class="word-tile" draggable="true">in</span>
                        <span class="word-tile" draggable="true">my</span>
                        <span class="word-tile" draggable="true">care</span>
                        <span class="word-tile" draggable="true">don't</span>
                        <span class="word-tile" draggable="true">I</span>
                    </div>
                    <div class="drop-zone" data-question="7"></div>
                </div>
                <div class="question">
                    <p><span>8.</span> Arrange the words: <strong>child / oh / I'm / motherfucker / a / so</strong></p>
                    <div class="word-list" data-question="8">
                        <span class="word-tile" draggable="true">child</span>
                        <span class="word-tile" draggable="true">oh</span>
                        <span class="word-tile" draggable="true">I'm</span>
                        <span class="word-tile" draggable="true">motherfucker</span>
                        <span class="word-tile" draggable="true">a</span>
                        <span class="word-tile" draggable="true">so</span>
                    </div>
                    <div class="drop-zone" data-question="8"></div>
                </div>
                <div class="question">
                    <p><span>9.</span> Arrange the words: <strong>everything / you / give / I'll</strong></p>
                    <div class="word-list" data-question="9">
                        <span class="word-tile" draggable="true">everything</span>
                        <span class="word-tile" draggable="true">you</span>
                        <span class="word-tile" draggable="true">give</span>
                        <span class="word-tile" draggable="true">I'll</span>
                    </div>
                    <div class="drop-zone" data-question="9"></div>
                </div>
                <div class="question">
                    <p><span>10.</span> Arrange the words: <strong>I'll / child / so / oh / be / that</strong></p>
                    <div class="word-list" data-question="10">
                        <span class="word-tile" draggable="true">I'll</span>
                        <span class="word-tile" draggable="true">child</span>
                        <span class="word-tile" draggable="true">so</span>
                        <span class="word-tile" draggable="true">oh</span>
                        <span class="word-tile" draggable="true">be</span>
                        <span class="word-tile" draggable="true">that</span>
                    </div>
                    <div class="drop-zone" data-question="10"></div>
                </div>
                <button class="check-answers" id="checkWordOrder">Check Answers</button>
                <div class="result" id="resultWordOrder"></div>
            </div>
        </div>
    </div>

    <!-- XLSX Processing Script -->
    <script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    var filteredData = jsonData.filter(row => row.some(filledCell));
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            return gk_fileData[filename] || "";
        }
    </script>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAAaoH4unLDHNq8TlpZh7skZ3WdKa-gPzA",
            authDomain: "singlish-a97c0.firebaseapp.com",
            projectId: "singlish-a97c0",
            storageBucket: "singlish-a97c0.firebasestorage.app",
            messagingSenderId: "28888918608",
            appId: "1:28888918608:web:27785a06c684813b693f55",
            measurementId: "G-HSYY3YS05R"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.signInWithGoogle = async () => {
            const signUpButton = document.getElementById("signUpButton");
            const mobileSignUpButton = document.getElementById("mobileSignUpButton");
            signUpButton.disabled = true;
            mobileSignUpButton.disabled = true;
            try {
                console.log("Starting sign-in process...");
                const result = await signInWithPopup(auth, provider);
                const user = result.user;
                updateAuthButtons(true);
                console.log("Sign-in successful:", user.displayName);
            } catch (error) {
                console.error("Sign-in error:", error.code, error.message);
                if (error.code === "auth/cancelled-popup-request") {
                    alert("Sign-in was cancelled. Please try again.");
                } else if (error.code === "auth/popup-blocked") {
                    alert("Popup was blocked by your browser. Please allow popups for this site and try again.");
                } else {
                    alert(`Failed to sign in: ${error.message}`);
                }
            } finally {
                signUpButton.disabled = false;
                mobileSignUpButton.disabled = false;
                console.log("Sign-in process completed.");
            }
        };

        window.signOut = async () => {
            const signOutButton = document.getElementById("signOutButton");
            const mobileSignOutButton = document.getElementById("mobileSignOutButton");
            signOutButton.disabled = true;
            mobileSignOutButton.disabled = true;
            try {
                await signOut(auth);
                updateAuthButtons(false);
                console.log("Sign-out successful.");
            } catch (error) {
                console.error("Sign-out error:", error);
                alert(`Failed to sign out: ${error.message}`);
            } finally {
                signOutButton.disabled = false;
                mobileSignOutButton.disabled = false;
            }
        };

        function updateAuthButtons(isSignedIn) {
            document.getElementById("signUpButton").style.display = isSignedIn ? "none" : "inline-block";
            document.getElementById("signOutButton").style.display = isSignedIn ? "inline-block" : "none";
            document.getElementById("mobileSignUpButton").style.display = isSignedIn ? "none" : "block";
            document.getElementById("mobileSignOutButton").style.display = isSignedIn ? "block" : "none";
        }

        onAuthStateChanged(auth, (user) => {
            if (user) {
                updateAuthButtons(true);
                console.log("User is signed in:", user.displayName);
            } else {
                updateAuthButtons(false);
                console.log("No user is signed in.");
            }
        });
    </script>

    <!-- Audio Player Script -->
    <script>
        const audio = document.getElementById('audio');
        const playPauseBtn = document.getElementById('playPause');
        const skipBackwardBtn = document.getElementById('skipBackward');
        const skipForwardBtn = document.getElementById('skipForward');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.querySelector('.progress-bar-container');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const volumeSlider = document.getElementById('volumeSlider');

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        audio.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(audio.duration);
        });

        audio.addEventListener('timeupdate', () => {
            const percent = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = `${percent}%`;
            currentTimeEl.textContent = formatTime(audio.currentTime);
        });

        playPauseBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                audio.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        });

        skipBackwardBtn.addEventListener('click', () => {
            audio.currentTime = Math.max(0, audio.currentTime - 10);
        });

        skipForwardBtn.addEventListener('click', () => {
            audio.currentTime = Math.min(audio.duration, audio.currentTime + 10);
        });

        progressContainer.addEventListener('click', (e) => {
            const rect = progressContainer.getBoundingClientRect();
            const offsetX = e.clientX - rect.left;
            const percent = offsetX / rect.width;
            audio.currentTime = percent * audio.duration;
        });

        volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value;
        });
    </script>

    <!-- Exercise Script -->
    <script>
        // Fill in the Blanks
        const checkFillInBtn = document.getElementById('checkFillIn');
        const resultFillInEl = document.getElementById('resultFillIn');

        const fillInAnswers = ['a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a'];

        checkFillInBtn.addEventListener('click', () => {
            let correct = 0;
            document.querySelectorAll('.exercise:nth-child(1) .question select').forEach(select => {
                select.classList.remove('correct', 'incorrect');
            });
            for (let i = 1; i <= 16; i++) {
                const select = document.querySelector(`select[name="q${i}"]`);
                const selected = select.value;
                if (selected) {
                    if (selected === fillInAnswers[i - 1]) {
                        select.classList.add('correct');
                        correct++;
                    } else {
                        select.classList.add('incorrect');
                    }
                }
            }
            resultFillInEl.textContent = `You got ${correct}/16 correct!`;
        });

        // Vocabulary Match
        const checkVocabBtn = document.getElementById('checkVocab');
        const resultVocabEl = document.getElementById('resultVocab');

        const vocabAnswers = [
            'бунтовать',
            'сеять ветер',
            'кощунственный',
            'дьявол в человеческом обличье',
            'противник',
            'доносчик',
            'мечтатель',
            'перевёрнутый мир',
            'в грязной обуви',
            'сменить местами роли'
        ];

        checkVocabBtn.addEventListener('click', () => {
            let correct = 0;
            document.querySelectorAll('.exercise:nth-child(2) .question select').forEach(select => {
                select.classList.remove('correct', 'incorrect');
            });
            for (let i = 1; i <= 10; i++) {
                const select = document.querySelector(`select[name="v${i}"]`);
                const selected = select.value;
                if (selected) {
                    if (selected === vocabAnswers[i - 1]) {
                        select.classList.add('correct');
                        correct++;
                    } else {
                        select.classList.add('incorrect');
                    }
                }
            }
            resultVocabEl.textContent = `You got ${correct}/10 correct!`;
        });

        // Word Order (Drag and Drop)
        const checkWordOrderBtn = document.getElementById('checkWordOrder');
        const resultWordOrderEl = document.getElementById('resultWordOrder');

        const wordOrderAnswers = [
            'And so I rebel wild',
            "I'm devil in human form",
            "You can run but you can't hide",
            'My anger fills the storm',
            'That bitch likes to suck my blood',
            'Let the table turn',
            "I don't care my shoes in the mud",
            "I'm a motherfucker oh so child",
            "I'll give you everything",
            "I'll be that oh so child"
        ];

        // Initialize drag and drop
        function initializeDragAndDrop() {
            const wordTiles = document.querySelectorAll('.word-tile');
            const dropZones = document.querySelectorAll('.drop-zone');
            const wordLists = document.querySelectorAll('.word-list');

            wordTiles.forEach(tile => {
                tile.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', e.target.textContent);
                    e.target.classList.add('dragging');
                });

                tile.addEventListener('dragend', (e) => {
                    e.target.classList.remove('dragging');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const word = e.dataTransfer.getData('text/plain');
                    const questionNum = zone.dataset.question;
                    const sourceList = document.querySelector(`.word-list[data-question="${questionNum}"]`);
                    const sourceTile = Array.from(sourceList.children).find(tile => tile.textContent === word);

                    if (sourceTile) {
                        const newTile = sourceTile.cloneNode(true);
                        newTile.addEventListener('dragstart', (e) => {
                            e.dataTransfer.setData('text/plain', e.target.textContent);
                            e.target.classList.add('dragging');
                        });
                        newTile.addEventListener('dragend', (e) => {
                            e.target.classList.remove('dragging');
                        });
                        zone.appendChild(newTile);
                        sourceTile.remove();
                        // Remove dragging class to prevent lingering effects
                        newTile.classList.remove('dragging');
                    }
                });
            });

            wordLists.forEach(list => {
                list.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                list.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const word = e.dataTransfer.getData('text/plain');
                    const questionNum = list.dataset.question;
                    const sourceZone = document.querySelector(`.drop-zone[data-question="${questionNum}"]`);
                    const sourceTile = Array.from(sourceZone.children).find(tile => tile.textContent === word);

                    if (sourceTile) {
                        const newTile = sourceTile.cloneNode(true);
                        newTile.addEventListener('dragstart', (e) => {
                            e.dataTransfer.setData('text/plain', e.target.textContent);
                            e.target.classList.add('dragging');
                        });
                        newTile.addEventListener('dragend', (e) => {
                            e.target.classList.remove('dragging');
                        });
                        list.appendChild(newTile);
                        sourceTile.remove();
                        // Remove dragging class to prevent lingering effects
                        newTile.classList.remove('dragging');
                    }
                });
            });
        }

        // Check answers for Word Order
        checkWordOrderBtn.addEventListener('click', () => {
            let correct = 0;
            document.querySelectorAll('.word-order .word-tile').forEach(tile => {
                tile.classList.remove('correct', 'incorrect');
            });

            for (let i = 1; i <= 10; i++) {
                const dropZone = document.querySelector(`.drop-zone[data-question="${i}"]`);
                const userAnswer = Array.from(dropZone.children)
                    .map(tile => tile.textContent)
                    .join(' ');

                if (userAnswer) {
                    const isCorrect = userAnswer.toLowerCase() === wordOrderAnswers[i - 1].toLowerCase();
                    dropZone.querySelectorAll('.word-tile').forEach(tile => {
                        tile.classList.add(isCorrect ? 'correct' : 'incorrect');
                    });
                    if (isCorrect) correct++;
                }
            }
            resultWordOrderEl.textContent = `You got ${correct}/10 correct!`;
        });

        // Initialize drag and drop when page loads
        initializeDragAndDrop();
    </script>

    <!-- Hamburger Menu Script -->
    <script>
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');

        hamburger.addEventListener('click', toggleMenu);
        document.querySelectorAll('.mobile-menu a').forEach(link => {
            link.addEventListener('click', toggleMenu);
        });

        function toggleMenu() {
            const isActive = hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('active');
            hamburger.setAttribute('aria-expanded', isActive);
        }

        document.getElementById('mobileSignUpButton').addEventListener('click', () => {
            signInWithGoogle();
            toggleMenu();
        });

        document.getElementById('mobileSignOutButton').addEventListener('click', () => {
            signOut();
            toggleMenu();
        });
    </script>
</body>
</html>
